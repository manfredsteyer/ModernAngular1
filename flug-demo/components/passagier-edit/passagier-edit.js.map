{"version":3,"sources":["passagier-edit/passagier-edit.js"],"names":[],"mappings":"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","file":"passagier-edit/passagier-edit.js","sourcesContent":["\r\nexport class PassagierEditController {\r\n\r\n    constructor($http, $log, baseUrl, $window, $routeParams) {\r\n        this.$http = $http;\r\n        this.$log = $log;\r\n        this.baseUrl = baseUrl;\r\n        this.$window = $window;\r\n        \r\n        this.exitWarning = {\r\n            show: false  \r\n        }\r\n        \r\n        this.load($routeParams.id);\r\n    }\r\n    \r\n  \r\n    activate($scope) {\r\n        this.$scope = $scope;\r\n        this.$log.info(\"activate\");    \r\n    }\r\n    \r\n    canDeactivate($q) {\r\n        \r\n        this.$log.info(\"canDeactivate\");    \r\n        \r\n        if (!this.$scope.form.$dirty) return true;\r\n        \r\n        return $q((resolve, reject) => { \r\n            this.exitWarning = {\r\n                show: true,\r\n                reject: reject,\r\n                resolve: resolve\r\n            }\r\n        }).finally(() => { \r\n            this.exitWarning.show = false; \r\n        });\r\n        \r\n    }\r\n  \r\n    \r\n    load(id) {\r\n        var that = this;\r\n\r\n        var params = {};\r\n        params.pNummer = id;\r\n\r\n        this.$http\r\n            .get(that.baseUrl + \"/api/passagier\", { params: params })\r\n            .then((result) => {\r\n\r\n                that.passagier = result.data;\r\n\r\n            }).catch((p) => {\r\n            \r\n                that.message = \"Beim Laden der Daten ist ein Fehler aufgetreten\";\r\n                that.$log.error(\"Fehler beim Laden von Passagieren\");\r\n                that.$log.error(p.data.message);\r\n                that.$log.error(p.data.status);\r\n            \r\n            });\r\n    }\r\n\r\n    save() {\r\n        var that = this;\r\n\r\n        this\r\n            .$http\r\n            .post(that.baseUrl + \"/api/passagier\", this.passagier)\r\n            .then((result) => {\r\n                that.message = \"Passagier wurde gespeichert!\";\r\n                that.$scope.form.$setDirty(false);\r\n            })\r\n            .catch((p) => {\r\n                that.message = \"Beim Speichern der Daten ist ein Fehler aufgetreten: \"  + p.data;\r\n\r\n                that.$log.error(\"Fehler beim Speichern von Passagieren: \");\r\n                that.$log.error(p.data);\r\n                that.$log.error(p.status);\r\n\r\n            });\r\n\r\n    }\r\n\r\n\r\n}"],"sourceRoot":"/source/"}